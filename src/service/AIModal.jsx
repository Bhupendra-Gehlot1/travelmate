/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate Travel Plans for Location: Las Vegas, for 3 days for Couple with a Cheap budget, give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place, Details, Place Image Url, Geo coordinates, ticket pricing, rating, Time to travel from morning 10 am to evening 6pm each of the location for 3 days with each day plan with best time to visit in only JSON format nothing else. "},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/hotels/1000000/900000/895000/894800/894875/894875_170.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering a lively atmosphere with casinos, restaurants, and entertainment.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$70 - $150 per night\",\n      \"hotelImageUrl\": \"https://www.golden nugget.com/media/images/hero-images/vegas-hero-wide-mobile.jpg\",\n      \"geoCoordinates\": \"36.1698° N, 115.1418° W\",\n      \"rating\": 4.5,\n      \"description\": \"A historic hotel known for its luxurious amenities, including a world-class casino, multiple dining options, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://media.cntraveler.com/photos/5f08699ff286e550765d9049/master/pass/circus-circus-hotel-casino-las-vegas-02.jpg\",\n      \"geoCoordinates\": \"36.1183° N, 115.1722° W\",\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a carnival theme, offering affordable accommodations, a circus-themed midway, and various dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM - 12:00 PM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"place\": \"Downtown Las Vegas\",\n          \"details\": \"Explore the vibrant pedestrian mall with live entertainment, street performers, and a dazzling light show.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/1332/freemont-street-experience.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Heart Attack Grill\",\n          \"place\": \"Downtown Las Vegas\",\n          \"details\": \"Enjoy a unique dining experience at this quirky restaurant known for its extreme burgers and unhealthy food.\",\n          \"placeImageUrl\": \"https://www.tripadvisor.com/Tourism-g45963-Attractions-Las_Vegas_Nevada.html\",\n          \"geoCoordinates\": \"36.1688° N, 115.1416° W\",\n          \"ticketPricing\": \"Around $15 - $25 per meal\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"placeName\": \"Neon Museum\",\n          \"place\": \"Downtown Las Vegas\",\n          \"details\": \"Discover the fascinating history of Las Vegas through its iconic neon signs.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/media/images/homepage-images/neon-museum-home.jpg\",\n          \"geoCoordinates\": \"36.1710° N, 115.1372° W\",\n          \"ticketPricing\": \"$20 - $30 per person\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"placeName\": \"The Mob Museum\",\n          \"place\": \"Downtown Las Vegas\",\n          \"details\": \"Explore the intriguing world of organized crime in Las Vegas with interactive exhibits and artifacts.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/sites/default/files/styles/hero_image/public/2019-08/mob-museum-exterior-daytime-hero.jpg\",\n          \"geoCoordinates\": \"36.1709° N, 115.1419° W\",\n          \"ticketPricing\": \"$25 - $35 per person\",\n          \"rating\": 4.0\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM - 12:00 PM\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Admire the stunning floral displays and intricate sculptures in this free botanical garden.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/home/images/conservatory-botanical-garden/2023/cbg-january-2023-hero.jpg\",\n          \"geoCoordinates\": \"36.1147° N, 115.1739° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Walk along the outdoor shopping and dining promenade with a high roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.thelinq.com/media/images/linq-promenade-carousel.jpg\",\n          \"geoCoordinates\": \"36.1149° N, 115.1747° W\",\n          \"ticketPricing\": \"Free to walk, ride tickets starting at $20\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Enjoy breathtaking panoramic views of the Las Vegas Strip from the world's tallest observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/linq/images/highroller-experience-hero.jpg\",\n          \"geoCoordinates\": \"36.1148° N, 115.1747° W\",\n          \"ticketPricing\": \"$30 - $40 per person\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"placeName\": \"Fountains of Bellagio\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Witness the mesmerizing synchronized water and music show in front of the Bellagio Hotel.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/home/images/fountains/fountains-of-bellagio-hero.jpg\",\n          \"geoCoordinates\": \"36.1146° N, 115.1739° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM - 12:00 PM\",\n          \"placeName\": \"Hoover Dam\",\n          \"place\": \"Near Las Vegas\",\n          \"details\": \"Take a day trip to the iconic Hoover Dam and learn about its history and engineering marvel.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hove/planyourvisit/images/hoover-dam-landscape.jpg\",\n          \"geoCoordinates\": \"36.0137° N, 114.9215° W\",\n          \"ticketPricing\": \"Around $30 - $40 per person for a guided tour\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Lake Mead National Recreation Area\",\n          \"place\": \"Near Las Vegas\",\n          \"details\": \"Enjoy scenic views, hiking trails, and water activities at Lake Mead.\",\n          \"placeImageUrl\": \"https://www.nps.gov/lame/learn/nature/images/lake-mead-national-recreation-area-aerial-view.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 114.9841° W\",\n          \"ticketPricing\": \"Entrance fee for the park is $30 per vehicle\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"placeName\": \"Valley of Fire State Park\",\n          \"place\": \"Near Las Vegas\",\n          \"details\": \"Explore the stunning red rock formations and unique desert landscape.\",\n          \"placeImageUrl\": \"https://www.parks.nv.gov/parks/valley-of-fire-state-park/\",\n          \"geoCoordinates\": \"36.3474° N, 114.8717° W\",\n          \"ticketPricing\": \"Entrance fee is $10 per vehicle\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"place\": \"Near Las Vegas\",\n          \"details\": \"Enjoy scenic drives, hiking trails, and rock climbing opportunities in the stunning red rock landscape.\",\n          \"placeImageUrl\": \"https://www.blm.gov/visit/red-rock-canyon-national-conservation-area\",\n          \"geoCoordinates\": \"36.0896° N, 115.2749° W\",\n          \"ticketPricing\": \"Entrance fee is $15 per vehicle\",\n          \"rating\": 4.0\n        }\n      ]\n    }\n  ]\n}\n```"},
      ],
    },
  ],
});